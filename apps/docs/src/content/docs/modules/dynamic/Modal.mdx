---
title: 'Modal'
description: ...
---

import { Preview, PreviewArea, PreviewTitle, PreviewCode, ImportPackage, EmbedCode, IconBadge } from '~/components';
import { Modal, HTML, Grid, Dummy, Flex, Stack, Center, Icon } from 'lism-css/astro';
import {
	ArrowFatDown,
	ArrowRight,
	ShoppingCartSimple,
	ArrowCircleRight,
} from "@phosphor-icons/react";
import NavMenu from '~/components/ex/NavMenu';


`dialog` タグでモーダルを表示するコンポーネントです。


## 構造
```pug
button[data-modal-open='modalID']
dialog.d--modal#modalID.set-plain
    .d--modal_inner
        .d--modal_body ...Contents...
    button[data-modal-close='modalID']
```

`.d--modal`に`id`をつけ、`<button>`に`data-modal-open`属性と`data-modal-close`属性をつけることでそのモーダルの開閉ボタンになります。

## CSS

<EmbedCode dirPath='packages/lism-css' srcPath='src/components/Modal/style.scss' />


## Import

<ImportPackage component='Modal' script='modal.js' />

`<Modal.Root>`, `<Modal.Inner>`, `<Modal.Body>`, `<Modal.CloseBtn>`が利用できます。


## Props

| プロパティ | 説明 |
|---|---|
|`id`| Modal(d--modal)にはid属性が必要です。|
|`layout`| レイアウト用コンポーネントを指定できます。|
|`offset`(`--offset`)| Modalの非表示時の位置をずらすためのオフセット値|
|`data-modal-open`| モーダルを開くトリガー要素にて、モーダルの`id`を指定します。|
|`data-modal-open`| モーダルを閉じるトリガー要素にて、モーダルの`id`を指定します。|


## Usage

`Modal.Root`をgridレイアウト系にしてしまうと、 `Modal.Inner`(`.d--modal_inner`) の `max-height 100%` が効かなくなるので注意してください。

{/* モーダルコンテンツを中央に寄せたい場合、l--stack + jc='center' か、 root:l--stack + inner:m='auto' で実現できます。 */}

<Preview>
	<PreviewTitle>`Modal`使用例</PreviewTitle>
	<PreviewArea p='20'>
		<Modal.OpenBtn modalId='modal-01' className='-bd -px:20 -py:5 -bdrs:10'>Open Modal 01</Modal.OpenBtn>

		<Modal.Root id='modal-01' layout='stack' jc='center' isContainer='m' p='40'>
			<Modal.Inner pos='relative' p='40' g='30' bdrs='20' bxsh='40'>
				<Modal.CloseBtn modalId='modal-01' pos='absolute' t='0' r='0' z='1' fz='xl' p='10' m='20' />
				<Modal.Body layout='flow' flow='s'>
					<div className='-fz:xl -fw:bold'>Modal Title</div>
					<Dummy />
				</Modal.Body>
				<Flex>
					<Modal.CloseBtn modalId='modal-01' bgc='base-2' p='20' bdrs='10'>Close Modal</Modal.CloseBtn>
				</Flex>
			</Modal.Inner>
		</Modal.Root>
	</PreviewArea>
	<PreviewCode slot='tab' label='JSX'>
		```jsx "'modal-01'"
		<Modal.OpenBtn modalId='modal-01' className='-bd -px:20 -py:5 -bdrs:10'>Open Modal 01</Modal.OpenBtn>

		<Modal.Root id='modal-01' layout='stack' jc='center' isContainer='m' p='40'>
			<Modal.Inner pos='relative' p='40' g='30' bdrs='20' bxsh='40'>
				<Modal.CloseBtn modalId='modal-01' pos='absolute' t='0' r='0' z='1' fz='xl' p='10' m='20' />
				<Modal.Body layout='flow' flow='s'>
					<div className='-fz:xl -fw:bold'>Modal Title</div>
					<Dummy />
				</Modal.Body>
				<Flex>
					<Modal.CloseBtn modalId='modal-01' bgc='base-2' p='20' bdrs='10'>Close Modal</Modal.CloseBtn>
				</Flex>
			</Modal.Inner>
		</Modal.Root>
		```
	</PreviewCode>
	<PreviewCode slot='tab' label='HTML'>
		```html
		```
	</PreviewCode>
</Preview>

`.d--modal_body` が`overflow:auto`でスクロール可能なエリアになっていますので、常に見せておきたいコンテンツがあればその前後に配置します。

<Preview>
	<PreviewTitle>`Modal`使用例</PreviewTitle>
	<PreviewArea p='20'>
		<Modal.OpenBtn modalId='modal-02' className='-bd -px:20 -py:5 -bdrs:10'>Open Modal 02</Modal.OpenBtn>

		<Modal.Root id='modal-02' layout='stack' jc='center' isContainer='s' px='40' py='60'>
			<Modal.Inner bdrs='20' bxsh='40'>
				<Flex ai='center' jc='between' py='20' bd-b>
					<HTML.span fz='l' fw='bold' lh='s' mx-s='40'>Modal Header</HTML.span>
					<Modal.CloseBtn modalId='modal-02' fz='xl' p='20' mx='20'/>
				</Flex>
				<Modal.Body layout='flow' px='40' py='30'>
					<Dummy />
					<Dummy length='xl' offset={1} />
					<Dummy length='l' />
					<Dummy length='xl' offset={3} />
					<Dummy tag='ul' />
					<Dummy length='xl' offset={2}/>
				</Modal.Body>
				<Flex jc='end' px='40' py='30' bd-t>
					<Modal.CloseBtn modalId='modal-02' bgc='text' c='base' lh='xs' px='20' py='10' bd='none' bdrs='10'>Close</Modal.CloseBtn>
				</Flex>
			</Modal.Inner>
		</Modal.Root>
	</PreviewArea>
	<PreviewCode slot='tab' label='JSX'>
		```jsx "'modal-02'"
		<Modal.OpenBtn modalId='modal-02' className='-bd -px:20 -py:5 -bdrs:10'>Open Modal 02</Modal.OpenBtn>

		<Modal.Root id='modal-02' layout='stack' jc='center' isContainer='s' px='40' py='60'>
			<Modal.Inner bdrs='20' bxsh='40'>
				<Flex ai='center' jc='between' py='20' bd-b>
					<HTML.span fz='l' fw='bold' lh='s' mx-s='40'>Modal Header</HTML.span>
					<Modal.CloseBtn modalId='modal-02' fz='xl' p='20' mx='20'/>
				</Flex>
				<Modal.Body layout='flow' px='40' py='30'>
					<Dummy />
					<Dummy length='xl' offset={1} />
					<Dummy length='l' />
					<Dummy length='xl' offset={3} />
					<Dummy tag='ul' />
					<Dummy length='xl' offset={2}/>
				</Modal.Body>
				<Flex jc='end' px='40' py='30' bd-t>
					<Modal.CloseBtn modalId='modal-02' bgc='text' c='base' lh='xs' px='20' py='10' bd='none' bdrs='10'>Close</Modal.CloseBtn>
				</Flex>
			</Modal.Inner>
		</Modal.Root>
		```
	</PreviewCode>
	<PreviewCode slot='tab' label='HTML'>
		```html
		```
	</PreviewCode>
</Preview>


### ドロワーメニューの作成例

<IconBadge /> 以下では、追加インポートが必要な[`NavMenu`](/components/navmenu)も併用しています。

<Preview>
	<PreviewTitle>ドロワーメニューの作成例</PreviewTitle>
	<PreviewArea p='20'>
		<Modal.OpenBtn modalId='modal-03' ai='center' g='5'>
			<Icon icon='menu' fz='xl' /><span>MENU</span>
		</Modal.OpenBtn>

		<Modal.Root id='modal-03' offset='-100px 0'>
			<Modal.Inner max-w='24rem' h='100%' bxsh='40'>
				<Flex bd-b ai='center' jc='between' p='30'>
					<HTML.span fz='l'>MENU</HTML.span>
					<Modal.CloseBtn modalId='modal-03' fz='xl' p='5'/>
				</Flex>
				<Modal.Body>
					<Stack className='u-itemDivider' bdc='line' bd-b p='0' ov='clip'>
						<HTML.a href='#menu-link01' className='set-plain' hov='o' px='30' py='20'>Menu item 1</HTML.a>
						<HTML.a href='#menu-link02' className='set-plain' hov='o' px='30' py='20'>Menu item 2</HTML.a>
						<HTML.a href='#menu-link03' className='set-plain' hov='o' px='30' py='20'>Menu item 3</HTML.a>
						<HTML.a href='#menu-link04' className='set-plain' hov='o' px='30' py='20'>Menu item 4</HTML.a>
					</Stack>
				</Modal.Body>
			</Modal.Inner>
		</Modal.Root>
	</PreviewArea>
	<PreviewCode slot='tab' label='JSX'>
		```jsx "'modal-03'"
		<Modal.OpenBtn modalId='modal-03' ai='center' g='5'>
			<Icon icon='menu' fz='xl' /><span>MENU</span>
		</Modal.OpenBtn>

		<Modal.Root id='modal-03' offset='-100px 0'>
			<Modal.Inner max-w='24rem' h='100%' bxsh='40'>
				<Flex bd-b ai='center' jc='between' p='30'>
					<HTML.span fz='l'>MENU</HTML.span>
					<Modal.CloseBtn modalId='modal-03' fz='xl' p='5'/>
				</Flex>
				<Modal.Body>
					<Stack className='u-itemDivider' bdc='line' bd-b p='0' ov='clip'>
						<HTML.a href='#menu-link01' className='set-plain' hov='o' px='30' py='20'>Menu item 1</HTML.a>
						<HTML.a href='#menu-link02' className='set-plain' hov='o' px='30' py='20'>Menu item 2</HTML.a>
						<HTML.a href='#menu-link03' className='set-plain' hov='o' px='30' py='20'>Menu item 3</HTML.a>
						<HTML.a href='#menu-link04' className='set-plain' hov='o' px='30' py='20'>Menu item 4</HTML.a>
					</Stack>
				</Modal.Body>
			</Modal.Inner>
		</Modal.Root>
		```
	</PreviewCode>
	<PreviewCode slot='tab' label='HTML'>
		```html
		```
	</PreviewCode>
</Preview>
