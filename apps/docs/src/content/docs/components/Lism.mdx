---
title: 'Lism'
description: ...
tableOfContents:
    maxHeadingLevel: 4
---
import { Lism, HTML, Dummy, Link, Media, Frame, Spacer } from "lism-css/astro";
import { Preview, PreviewArea, PreviewTitle, PreviewCode, IconBadge, Reference, ImportPackage, Callout } from "~/components";

LismのCSS設計に対応した様々なプロパティを受け取ることができるようになっている汎用的なコンポーネントです。  
何も指定がなければ、ただの`<div>`を返します。

<Callout type='info'>
Lismで配布しているほぼ全てのコンポーネントは、この`<Lism>`がベースなっています。  
</Callout>

<Spacer />

<Preview>
	<PreviewTitle>`<Lism>`の出力例</PreviewTitle>
	<PreviewArea p='20'>
		<Lism　p='20' fw='bold' c='blue' bgc='base-2' bdrs='20'>Lism content</Lism>
	</PreviewArea>
	<PreviewCode slot='tab' label='JSX'>
		```jsx
		<Lism　p='20' fw='bold' c='blue' bgc='base-2' bdrs='20'>Lism content</Lism>
		```
	</PreviewCode>
	<PreviewCode slot='tab' label='HTML'>
		```jsx
		<div class="-p:20 -fw:bold -c -bgc:base-2 -bdrs:20"> Lism content </div>
		```
	</PreviewCode>
</Preview>



## Import

<Preview>
	<PreviewCode slot='tab' label='React'>
```jsx
import { Lism } from 'lism-css/react';
```
	</PreviewCode>
	<PreviewCode slot='tab' label='Astro'>
```jsx
import { Lism } from 'lism-css/astro';
```
	</PreviewCode>
</Preview>





## Lism Props

`<Lism>`で受け取れる、Lism CSS 専用プロパティを**Lism Props**と呼んでいます。

{/* 上記の他、少し複雑なものがいくつかあります。それらについては後述の[補足](#補足)で解説しています */}


{/* Lism Propsは、主に以下の3種類に分類されます。 */}

{/* |種別|説明|
|---|---|
|**Common Props**|基本的な共通プロパティ|
|**State Props**|[State Modules](/css/module-class/#state-modules) に分類されるクラスを出力するためのプロパティ|
|**CSS Props**|[Prop Class](/css/prop-class/) に分類されるクラスを出力するためのプロパティ| */}


### `tag`

出力する HTMLタグを指定できます。デフォルトは`div`です。

<PreviewTitle>例</PreviewTitle>
```jsx "tag='p'"
<Lism tag='p' fz='l'>Lorem ipsum texts...</Lism>

↓

<p class="-fz:l">Lorem ipsum texts...</p>
```

### `lismClass`

現在のコンポーネントの主要なクラス名を指定できます。
`<Lism>`のクラス処理の中で優先度が高めの出力順となります。

<PreviewTitle>例</PreviewTitle>
```jsx "lismClass='c--myComponent'"
<Lism p='10' lismClass='c--myComponent'>Lorem ipsum texts...</Lism>

↓

<div class="c--myComponent -p:10">Lorem ipsum texts...</div>
```


### `variant`

`lismClass`に対するバリエーションクラスを出力できます。  
`lismClass` に複数クラスが指定されている場合、先頭のクラスに対してバリエーションクラスを出力します。


<PreviewTitle>例</PreviewTitle>
```jsx "variant='secondary'"
<Lism lismClass='c--myComponent' variant='secondary'>Lorem ipsum texts...</Lism>

↓

<div class="c--myComponent c--myComponent--secondary">Lorem ipsum texts...</div>
```


### layout

レイアウトモジュールを指定できます。例えば`layout='flow'`とすると、`.l--flow`クラスが出力されます。

<PreviewTitle>例</PreviewTitle>
```jsx "layout='flow'"
<Lism layout='flow'>Lorem ipsum texts...</Lism>

↓

<div class="l--flow">Lorem ipsum texts...</div>
```


### as , exProps

`as` に外部コンポーネントを指定すると、`<Lism>`を最終的に**別の外部コンポーネントとして展開する**ことができます。

<Preview>
	<PreviewTitle>例、Lismの`<Media>`コンポーネントをNext.jsの`<Image>`で展開する</PreviewTitle>
	<PreviewCode>
```jsx
import Image from 'next/image';

<Media as={Image} src='...' bxsh='20' bdrs='20' />
```
	</PreviewCode>
</Preview>

先に Lism Props を解析して `class`, `style` を生成してから、`as`で指定したコンポーネントに渡します。  
Lismコンポーネント以外に対しても Lism Props を使いたい時に活用してください。



さらに、`exProps` には **Lism Props としての処理をスキップしたいプロパティ**を指定できます。

`as`で指定した外部コンポートが受け取れるプロパティと Lism Props の名前が被っている場合など、外部コンポーネント用のプロパティであることを明示的にしたい時に便利です。  


<Preview>
	<PreviewTitle>例</PreviewTitle>
	<PreviewCode>
```jsx
<Icon as={Hoge} exProps={{size:'1em'}} p='10' fz='l'>...</Icon>
```
	</PreviewCode>
</Preview>

上記のようにすることで、Lismの`Icon`コンポーネントで`p`, `fz` を受け取って処理し、`Hoge`という外部コンポーネント側で確実に`size`を受け取ることができます。  
（現状、Lism 側では `size` は処理されないためこの例では`exProps`は不要ですが、外部コンポーネント用のプロパティを明示的に指定しておくと、将来的にも影響がでる心配がなくなります。）



### State Props

[State Modules](/css/module-class/) クラスに対応するプロパティ群です。


| Prop | 出力されるクラス |
|---|---|
| `isContainer(='{s\|m\|l}')` | `.is--container`+`(.-container:{s\|m\|l})` |
| `isLayer` | `.is--layer` |
| `isLinkBox` | `.is--linkBox` |
| `hasGutter` | `.has--gutter` |

<Reference>
[State Modules クラスについての解説と使用例はこちら](/css/module-class/)
</Reference>


### CSS Props

主要なCSSプロパティに対して、それぞれ省略記法でコンポーネントに指定できるようになっています。  
例えば、`font-size` は `fz`、`padding` は `p` で指定できます。

この時、[Prop Class](/css/prop-class/) に対応する値が指定されれば、下記のようにLismで用意しているユーティリティクラスが出力されるようになっています。

<Preview>
<PreviewTitle>例</PreviewTitle>
<PreviewCode>
```jsx
<Lism fz='l' p='15'>contents</Lism>

// ↓ 出力されるHTML
<div class="-fz:l -p:15">contents</div>
```
</PreviewCode>
</Preview>


<Reference>
[指定可能な Props 一覧はこちら](/css/prop-class/)
</Reference>

<Spacer h='20'/>

トークン値ではなく各プロパティの主要なキーワード値に対応したクラスをする場合、値を省略してもしなくても出力されます。

例：`position:relative`用の `-pos:rel` クラスは、以下のどちらの書き方でも出力されます。

```jsx
<Lism pos='relative'>...</Lism>
<Lism pos='rel'>...</Lism>

// ↓ どちらも次のような出力になります

<div class="-pos:rel">...</div>
```



#### 対応するProp Classがない値を指定した場合

ユーティリティクラスに変換されない値を指定した場合、以下のいずれかで出力されます。

1. 単純に`style`属性にインライン出力される。
2. `-{prop}` & `--{prop}` の組み合わせで出力される。
3. `--{prop}`だけ出力されるもの（特殊）

<Preview>
<PreviewTitle>1. の単純なstyle属性への出力の例</PreviewTitle>
<PreviewCode>
```jsx  "op='0.75'" "opacity:0.75"
<Lism o='0.75'>contents</Lism>
↓
<div style="opacity:0.75">contents</div>
```
</PreviewCode>
</Preview>

<Preview>
<PreviewTitle>2. のクラスと変数の組み合わせ出力の例</PreviewTitle>
<PreviewCode>
```jsx "fz='20px'" "-fz" "--fz:20px"
<Lism fz='20px'>contents</Lism>
// ↓　出力
<div class="-fz" style="--fz:20px">contents</div>
```
</PreviewCode>
</Preview>

ブレイクポイントでの切り替えに対応しているような主要なプロパティは、この`-{prop}` & `--{prop}` で出力されます。

{/* <p class='-fz:s -o:mild -my-s:5'>そのほか、(変数管理できた方が利便性が高いので)主要なプロパティも変数化されるようになっています。</p> */}


<Spacer h='10' />
<Preview>
<PreviewTitle>3. の変数のみ出力される例</PreviewTitle>
<PreviewCode>
```jsx
<Lism bd bdc="#000" bdw="2px">...</Lism>

// ↓　出力
<div class="-bd" style="--bdc:#000;--bdw:2px">...</div>
```
</PreviewCode>
</Preview>


## 補足



### レスポンジブ指定の方法

`Lism` で使用できる CSS Propsは、[レスポンシブに対応した形式](/css/responsive)で出力できるようになっています。



次の2通りの書き方があります。

1. 配列で順番に指定（ base → sm → md → ...）
2. オブジェクトで直接ブレイクポイントを指定

どちらも最終的に出力されるHTMLは同じで、ユーティリティクラスとCSS変数のペア（`-{prop}_{bp}` & `--{prop}_{bp}`）で出力されます。

<Preview>
	<PreviewTitle>例1</PreviewTitle>
	<PreviewCode label='配列での書き方' slot='tab'>
		```jsx
		<Lism p={['20', '30', '5rem']}>...</Lism>
		```
	</PreviewCode>
	<PreviewCode label='オブジェクトでの書き方' slot='tab'>
		```jsx
		<Lism p={{ base: '20', sm: '30', md: '5rem' }}>...</Lism>
		```
	</PreviewCode>
	<PreviewCode label='出力されるHTML' slot='tab'>
		```jsx
		<div class='-p:20 -p_sm -p_md' style='--p_sm:var(--s30);--p_md:5rem'>
			...
		</div>
		```
	</PreviewCode>
</Preview>

途中のブレイクポイントをスキップする場合は次のようになります。

<Preview>
	<PreviewTitle>例2:`@md`の値のみ指定</PreviewTitle>
	<PreviewCode label='配列での書き方' slot='tab'>
		```jsx
		<Lism p={[null, null, '40']}>...</Lism>
		```
	</PreviewCode>
	<PreviewCode label='オブジェクトでの書き方' slot='tab'>
		```jsx
		<Lism p={{ md: '40' }}>...</Lism>
		```
	</PreviewCode>
	<PreviewCode label='出力されるHTML' slot='tab'>
		```jsx
		<div class='-p_md' style='--p_md:var(--s30)'>
			...
		</div>
		```
	</PreviewCode>
</Preview>

<Callout type='warning'>
	実際に値が切り替わるかどうかは、そのプロパティがレスポンシブ対応している必要があります。
	どのプロパティが対応してるかは[Prop Class](/css/prop-class) の **BP**（
	<small>ブレイクポイントの略</small>） の欄をチェックしてください。
</Callout>

デフォルトでレスポンシブ対応されていない（CSSが用意されていない）プロパティに関しては、[SCSSによるカスタマイズ](/css/customize/)を行うことで対応できます。


<div id='output-utility'></div>
### `:` でユーティリティクラスとして強制的に出力

対応するProp Classがない場合でも、`:`からはじめることでその後ろの文字列がユーティリティクラス名として出力されます。
```jsx
<Lism p=':hoge'>...</Lism>

↓

<div class="-p:hoge">...</div>
```

任意のユーティリティクラスをCSSへ追加し、ご利用ください。

```css
.-p\:hoge{
	/* ... your styles ... */
}
```

<Callout type='info'>
`className='-p:hoge'` としてももちろん大丈夫ですが、`:`を使ってCSS Propとして渡すことで出力順序が統一されます。
</Callout>


### `.-{prop}`クラスのみを出力する方法

CSS Props に対して`"-"`または`true`を指定すると、変数なしで`.-{prop}`クラスのみを出力します。

<Preview>
<PreviewTitle>例</PreviewTitle>
<PreviewCode>
```jsx "p='-'" "bdrs" "-p" "-bdrs"
<Lism p='-' bdrs>contents</Lism>
↓
<div class="-p -bdrs">contents</div>
```
</PreviewCode>
</Preview>

CSS側で変数の中身を記述したい場合や、**親と同じ変数を継承したい場合**などに活用できます。


### プロパティごとのトークン展開について

各プロパティごとに、対応するトークンがある場合の処理について。

- そのトークン専用のクラスがある場合は、そのクラスが出力されます。
    - 例: `fz='l'` の場合は `-fz:l` クラスが出力されます。
- 対応トークンがあるがクラスとして登録されていない場合、CSS変数がインラインスタイルで出力されます。
    - 例: `c='red'` の場合は `class="-c"`と`style="--c:var(--red)"` が出力されます。

