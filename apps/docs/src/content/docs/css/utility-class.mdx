---
title: 'Utilitiy Class'
description: ...
sidebar:
  order: 5
---
import { Lism, Flow, HTML, Grid, Stack, Center, Box, Dummy, Media, Frame, Flex, Layer, Spacer, Icon, Divider } from "lism-css/astro";
import { Preview, PreviewArea, PreviewTitle, PreviewCode, EmbedCode, Reference, Callout } from "~/components";
import { Dog, Cat, Smiley, WarningCircle } from "@phosphor-icons/react";

ユーティリティクラスを紹介します。

スタイル・装飾をまとめてセットするようなクラスを分類しています。



## `u-cbox`

`--keycolor`変数をベースに、`--c`, `--bgc`, `--bdc` を `color-mix()` で生成します。

`color`, `background-color` にそれぞれ生成された 変数がセットされますが、`--bdc`は変数定義のみになるため、ボーダーを表示する時は[`-bd`クラス](/css/border)との併用が必要です。


<Preview>
	<PreviewTitle>例</PreviewTitle>
	<PreviewArea resize p='30'>
		<Lism className='u-cbox' keycolor='blue' p='30'><Dummy length='codes' /></Lism>
		<Lism className='u-cbox' keycolor='red' bd p='30'><Dummy length='codes' /></Lism>
		<Lism className='u-cbox' keycolor='purple' bd bdc='keycolor:base:25%' p='30'><Dummy length='codes' /></Lism>
		<Lism className='u-cbox' keycolor='#688f04' bd-x-s bdw='4px' p='30'><Dummy length='codes' /></Lism>
	</PreviewArea>
	<PreviewCode slot="tab" label="HTML">
		```html
		<div class='u-cbox -p:30' style='--keycolor:var(--blue)'>...</div>
		<div class='u-cbox -bd -p:30' style='--keycolor:var(--red)'>...</div>
		<div class="u-cbox -bd -p:30" style="--keycolor:var(--purple);--bdc:color-mix(in srgb, var(--keycolor) 25%, var(--c--base))">...</div>
		<div class='u-cbox -bd-x-s -p:30' style='--keycolor:#688f04;--bdw:4px;'>...</div>
		```
	</PreviewCode>
	<PreviewCode slot="tab" label='JSX'>
		```jsx
		<Lism className='u-cbox' keycolor='blue' p='30'><Dummy length='codes' /></Lism>
		<Lism className='u-cbox' keycolor='red' bd p='30'><Dummy length='codes' /></Lism>
		<Lism className='u-cbox' keycolor='purple' bd bdc='keycolor:base:25%' p='30'><Dummy length='codes' /></Lism>
		<Lism className='u-cbox' keycolor='#688f04' bd-x-s bdw='4px' p='30'><Dummy length='codes' /></Lism>
		```
	</PreviewCode>
	<PreviewCode slot="tab" label='CSS'>
		<EmbedCode dirPath='packages/lism-css' srcPath='src/scss/utility/_cbox.scss' />
	</PreviewCode>
</Preview>



## `u-trim` & `u-trimItems`

テキストのハーフレディング分の余白を調整するためのクラスです。

自身のmargin-blockを調整するだけの`u-trim`と、子要素全ての上下マージンを調整するための`u-trimItems`があります。

<Preview>
	<PreviewTitle>`u-trim`</PreviewTitle>
	<PreviewArea resize p='30'>
		<Box bd bds='dashed'>
			<Dummy className='u-trim' length='s'/>
		</Box>
	</PreviewArea>
	<PreviewCode slot="tab" label="HTML">
		```html "u-trim"
		<div class="l--box -bd" style="--bds:dashed">
			<p class="u-trim">Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor.</p>
		</div>
		```
	</PreviewCode>
	<PreviewCode slot="tab" label='JSX'>
		```jsx "u-trim"
		<Box bd bds='dashed'>
			<Dummy className='u-trim' length='s'/>
		</Box>
		```
	</PreviewCode>
	<PreviewCode slot="tab" label='CSS'>
		<EmbedCode dirPath='packages/lism-css' srcPath='src/scss/utility/_trimHL.scss' />
	</PreviewCode>
</Preview>


`u-trimItems`内の`img`, `figure`, `table`に対してはマージンの調節を無効化しています。

<Preview>
	<PreviewTitle>`u-trimItems`</PreviewTitle>
	<PreviewArea resize p='30'>
		<Stack className='u-trimItems' bd lh='s' g='40' p='30' bdrs='10' max-sz='s'>
			<Media ar='og' src='/img/img-1.jpg'/>
			<Dummy lang='ja' length='s' fw='bold' fz='l' />
			<Dummy lang='ja' length='l' o='mild' fz='s'/>
		</Stack>
	</PreviewArea>
	<PreviewCode slot="tab" label="HTML">
		```html
		<div class='u-trimItems l--stack -bd -g:40 -p:30 -bdrs:10'>
			<img class='a--media -ar:og' src='/img/img-1.jpg' />
			<p>ロレム・イプサムの座り雨、トマ好き学習だったエリット、しかし時と活力はそのような木々と楽しみ。</p>
			<p>ロレム・イプサムの座り雨、トマ好き学習だったエリット、しかし時と活力はそのような木々と楽しみ。ブラインド行うにはいくつかの重要な事柄が流れます...。</p>
		</div>
		```
	</PreviewCode>
	<PreviewCode slot="tab" label='JSX'>
		```jsx
		<Stack className='u-trimItems' bd g='40' p='30' bdrs='10'>
			<Media ar='og' src='/img/img-1.jpg'/>
			<Dummy lang='ja' length='s' />
			<Dummy lang='ja'  />
		</Stack>
		```
	</PreviewCode>
</Preview>

## `u-itemDivider`

グリッド・フレックスボックス等の子要素間に区切りとなるようなボーダーを表示します。  
（実装としてはbox-shadowで表現していますので、少し扱いに注意が必要です。）

<Preview>
	<PreviewTitle>例</PreviewTitle>
	<PreviewArea resize p='30'>
		<Grid gtc='liquid' className='u-itemDivider' cols='12rem' bdc='line'>
			<Box p='20'><Dummy /></Box>
			<Box p='20'><Dummy /></Box>
			<Box p='20'><Dummy /></Box>
			<Box p='20'><Dummy /></Box>
			<Box p='20'><Dummy /></Box>
			<Box p='20'><Dummy /></Box>
			<Box p='20'><Dummy /></Box>
		</Grid>
	</PreviewArea>
	<PreviewCode>
		```jsx
		<Grid gtc='liquid' className='u-itemDivider' cols='12rem' bdc='line'>
			<Box p='20'><Dummy /></Box>
			<Box p='20'><Dummy /></Box>
			<Box p='20'><Dummy /></Box>
			<Box p='20'><Dummy /></Box>
			<Box p='20'><Dummy /></Box>
			<Box p='20'><Dummy /></Box>
			<Box p='20'><Dummy /></Box>
		</Grid>
		```
	</PreviewCode>
</Preview>

<Preview>
	<PreviewTitle>pに`var(--bdw)`をセットすると、clipされた周囲のボーダーも見えるようになります。</PreviewTitle>
	<PreviewArea resize p='30'>
		<Grid gtc='liquid' className='u-itemDivider' cols='12rem' bdc='line' p='var(--bdw)'>
			<Box p='20'><Dummy /></Box>
			<Box p='20'><Dummy /></Box>
			<Box p='20'><Dummy /></Box>
			<Box p='20'><Dummy /></Box>
			<Box p='20'><Dummy /></Box>
			<Box p='20'><Dummy /></Box>
			<Box p='20'><Dummy /></Box>
		</Grid>
	</PreviewArea>
	<PreviewCode>
		```jsx
		<Grid gtc='liquid' className='u-itemDivider' cols='12rem' bdc='line'>
			<Box p='20'><Dummy /></Box>
			<Box p='20'><Dummy /></Box>
			<Box p='20'><Dummy /></Box>
			<Box p='20'><Dummy /></Box>
			<Box p='20'><Dummy /></Box>
			<Box p='20'><Dummy /></Box>
			<Box p='20'><Dummy /></Box>
		</Grid>
		```
	</PreviewCode>
</Preview>


親グリッドに`bd`を指定すると、要素が埋まっていないところだけボーダーを表示しないカレンダーのような表現が可能です。

<Preview>
	<PreviewTitle>`bd`を指定</PreviewTitle>
	<PreviewArea resize p='30'>
		<Grid gtc='liquid' className='u-itemDivider' cols='10rem' ov='clip' p='0' bd bdc='line' bdrs='20'>
			<Box p='20'><Dummy length='s'/></Box>
			<Box p='20'><Dummy length='s'/></Box>
			<Box p='20'><Dummy length='s'/></Box>
			<Box p='20'><Dummy length='s'/></Box>
			<Box p='20'><Dummy length='s'/></Box>
			<Box p='20'><Dummy length='s'/></Box>
		</Grid>
	</PreviewArea>
	<PreviewCode>
		```jsx
		<Grid gtc='liquid' className='u-itemDivider' cols='10rem' ov='clip' p='0' bd bdc='line' bdrs='20'>
			<Box p='20'><Dummy length='s'/></Box>
			<Box p='20'><Dummy length='s'/></Box>
			<Box p='20'><Dummy length='s'/></Box>
			<Box p='20'><Dummy length='s'/></Box>
			<Box p='20'><Dummy length='s'/></Box>
			<Box p='20'><Dummy length='s'/></Box>
		</Grid>
		```
	</PreviewCode>
</Preview>

<br/>

Flexboxで横並び・縦並びが変わるようなレイアウトでも、このユーティリティクラスを活用すれば簡単に要素感のボーダーを表示できます。

<Preview>
	<PreviewTitle>例</PreviewTitle>
	<PreviewArea resize p='30'>
		<Flex fxd={['column','row']} bd className='u-itemDivider'>
			<Box fx='1' p='20'>Box</Box>
			<Box fx='1' p='20'>Box</Box>
			<Box fx='1' p='20'>Box</Box>
			<Box fx='1' p='20'>Box</Box>
		</Flex>
	</PreviewArea>
	<PreviewCode>
		```jsx
		<Flex fxd={['column','row']} bd className='u-itemDivider'>
			<Box fx='1' p='20'>Box</Box>
			<Box fx='1' p='20'>Box</Box>
			<Box fx='1' p='20'>Box</Box>
			<Box fx='1' p='20'>Box</Box>
		</Flex>
		```
	</PreviewCode>
</Preview>




## `u-linkExpand`

クリック範囲を親要素に広げるためのクラスです。

主に`is--linkBox`と併用して、内部のリンクをボックス全体に広げるために使用します。

<Reference>
活用例は [`<LinkBox>`](/modules/state/linkbox) を参照してください。
</Reference>


## `u-masked`


`--mask`変数と組み合わせて、自身にmaskを適用します。


```css
.u-masked {
	mask: var(--mask) no-repeat 50% / contain;
}
```

Lism Componentsでは`setMask`プロパティに指定した文字列が`--mask-img`として出力されるようになっています。（この時、`<svg>`を渡すと、base64へエンコードされます。

<Preview>
	<PreviewTitle>例</PreviewTitle>
	<PreviewArea p='10'>
		<img
			src="/img/img-5.jpg" width="960" height="640" loading="lazy"
			class="u-masked -ar:og"
			style={{'--mask': `url("data:image/svg+xml,<svg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'><path fill='%23000000' d='M170.4,25.7c16.1,14.2,23.2,38.5,24.8,61.7c1.7,23.3-1.8,45.5-12.9,62.3c-11,16.9-29.3,28.6-48.8,34.5 c-19.4,5.9-40,6.1-59.5,0.4c-19.5-5.6-37.9-17.4-51.7-34.9c-14-17.5-23.2-40.8-18-60.2c5-19.4,24.5-34.7,43.5-48.4 s37.6-25.7,59.5-29.7C129.1,7.3,154.2,11.4,170.4,25.7z' /></svg>")`}}
		/>
	</PreviewArea>
	<PreviewCode slot='tab' label='HTML'>
		```html
		<img
			src="/img/img-3.jpg" width="960" height="640" loading="lazy"
			class="u-masked -ar:og"
			style={{'--mask': `url("data:image/svg+xml,<svg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'><path fill='%23000000' d='M170.4,25.7c16.1,14.2,23.2,38.5,24.8,61.7c1.7,23.3-1.8,45.5-12.9,62.3c-11,16.9-29.3,28.6-48.8,34.5 c-19.4,5.9-40,6.1-59.5,0.4c-19.5-5.6-37.9-17.4-51.7-34.9c-14-17.5-23.2-40.8-18-60.2c5-19.4,24.5-34.7,43.5-48.4 s37.6-25.7,59.5-29.7C129.1,7.3,154.2,11.4,170.4,25.7z' /></svg>")`}}
		/>
		```
	</PreviewCode>
</Preview> 



## `u-hidden`

要素を視覚的に隠すことができるクラスです。  
スクリーンリーダー用のテキストなどに利用してください。

```css
.u-hidden {
	position: absolute;
	width: 1px;
	height: 1px;
	padding: 0;
	margin: -1px;
	overflow: hidden;
	clip: rect(0, 0, 0, 0);
	white-space: nowrap;
	border-width: 0;
}
```


## Opt-in

ここからは、Lism CSS のコアCSSファイルには含まれていないが便利なユーティリティクラスの作成例をいくつか紹介します。

### `u-inlineCenter`

絵文字やインラインアイコンをテキストのセンター位置に合わせて配置するためのクラスです。
`vertical-align: middle;`だけではずれが発生するため、追加で`translate`で調整を加えています。


<Preview>
	<PreviewTitle>使用例</PreviewTitle>
	<PreviewArea p='30'>
		<p><Icon className='u-inlineCenter' icon='alert' c='red' fz='xl' /> Lorem ipsum dolor sit amet.</p>
		<p><Icon className='u-inlineCenter' as={Dog} fz='l' />Dog, and <Icon className='u-inlineCenter' as={Cat} fz='l'/>Cat.</p>
		<p><span class='u-inlineCenter -fz:xl'>🚀</span> Emoji.</p>
		<p><Icon fz='2xl' className='u-inlineCenter' src="https://emojix.s3.ap-northeast-1.amazonaws.com/g3/svg/1f916.svg" alt="image" /> Inline img icon.</p>
	</PreviewArea>
	<PreviewCode slot='tab' label='JSX'>
		```jsx "u-inlineCenter"
		<p><Icon className='u-inlineCenter' icon='alert' c='red' fz='xl' /> Lorem ipsum dolor sit amet.</p>
		<p><Icon className='u-inlineCenter' as={Dog} fz='l' />Dog, and <Icon className='u-inlineCenter' as={Cat} fz='l'/>Cat.</p>
		<p><span class='u-inlineCenter -fz:xl'>🚀</span> Emoji.</p>
		<p><Icon fz='2xl' className='u-inlineCenter' src="https://emojix.s3.ap-northeast-1.amazonaws.com/g3/svg/1f916.svg" alt="image" /> Inline img icon.</p>
		```
	</PreviewCode>

	<PreviewCode slot='tab' label='**追加CSS**'>
	```scss
	.u-inlineCenter {
		vertical-align: middle; // 基準をmiddleにセット
		translate: 0 calc(-1 * (0.35em - 0.5ex)); // middleの計算式を元に追加で調整。（0.5cap - 0.5ex が英文では理想。）
	}
	```
	</PreviewCode>
</Preview>


### `u-scFade`

スクロール可能な方向を示すためにコンテンツをフェードさせるためのクラスです。

<Preview>
	<PreviewTitle>例</PreviewTitle>
	<PreviewArea p='40'>
		<Flow p='40' ar='2/1' bgc='base-2' ov='auto' className='u-scFade:y'>
			<Dummy />
			<Dummy length='l' />
			<Dummy tag='img' />
			<Dummy length='xl' />
			<Dummy length='l' />
		</Flow>
		<Divider my='50'/>
		<Flex className='u-scFade:x set-snap' ov='auto' g='30'>
			<Frame ar='16/9' fxsh='0' w='40%'>
				<img src='/img/img-1.jpg' alt='' />
			</Frame>
			<Frame ar='16/9' fxsh='0' w='40%'>
				<img src='/img/img-2.jpg' alt='' />
			</Frame>
			<Frame ar='16/9' fxsh='0' w='40%'>
				<img src='/img/img-3.jpg' alt='' />
			</Frame>
			<Frame ar='16/9' fxsh='0' w='40%'>
				<img src='/img/img-4.jpg' alt='' />
			</Frame>
			<Frame ar='16/9' fxsh='0' w='40%'>
				<img src='/img/img-5.jpg' alt='' />
			</Frame>
		</Flex>
	</PreviewArea>
	<PreviewCode slot="tab" label='JSX'>
		```jsx
		<Flow p='40' ar='2/1' bgc='base-2' ov='auto' className='u-scFade:y'>
			<Dummy />
			<Dummy length='l' />
			<Dummy tag='img' />
			<Dummy length='xl' />
		</Flow>
		<Divider />
		<Flex className='u-scFade:x set-snap' ov='auto' g='30'>
			<Frame ar='16/9' fxsh='0' w='40%'>
				<img src='/img/img-1.jpg' alt='' />
			</Frame>
			<Frame ar='16/9' fxsh='0' w='40%'>
				<img src='/img/img-2.jpg' alt='' />
			</Frame>
			<Frame ar='16/9' fxsh='0' w='40%'>
				<img src='/img/img-3.jpg' alt='' />
			</Frame>
			<Frame ar='16/9' fxsh='0' w='40%'>
				<img src='/img/img-4.jpg' alt='' />
			</Frame>
			<Frame ar='16/9' fxsh='0' w='40%'>
				<img src='/img/img-5.jpg' alt='' />
			</Frame>
		</Flex>
		```
	</PreviewCode>
	{/* <PreviewCode slot="tab" label='CSS'>
		<EmbedCode dirPath='packages/lism-css' srcPath='src/scss/utility/_scFade.scss' />
	</PreviewCode> */}
</Preview>



### `u-scShadow`

スクロール可能な方向を示すためにshadowを内側に表示させるためのクラスです。  
(`inset`なシャドウでスクロールヒントを表現しているため、内側コンテンツに背景色がついていたり、画像の場合は影が隠れてしまうことには注意が必要です。)

<Preview>
	<PreviewTitle>例</PreviewTitle>
	<PreviewArea p='40'>
		<Flow className='u-scShadow:y' p='30' ar='2/1' ov='auto' max-sz='s' bgc='base-2'>
			<Dummy />
			<Dummy length='l' />
			<Dummy tag='img' />
			<Dummy length='xl' />
		</Flow>
		<Frame className='u-scShadow:x' p='30' ov='auto' max-sz='s' bgc='base-2'>
			<Dummy whitespace='nowrap' />
		</Frame>
	</PreviewArea>
	<PreviewCode slot="tab" label='JSX'>
		```jsx
		<Flow className='u-scShadow:y' p='30' ar='2/1' ov='auto' max-sz='s' bgc='base-2'>
			<Dummy />
			<Dummy length='l' />
			<Dummy tag='img' />
			<Dummy length='xl' />
		</Flow>
		<Frame className='u-scShadow:x' p='30' ov='auto' max-sz='s' bgc='base-2'>
			<Dummy whitespace='nowrap' />
		</Frame>
		```
	</PreviewCode>
	{/* <PreviewCode slot="tab" label='CSS'>
		<EmbedCode dirPath='packages/lism-css' srcPath='src/scss/utility/_scFade.scss' />
	</PreviewCode> */}
</Preview>

