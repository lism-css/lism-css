---
import { Lism } from 'lism-css/astro';
import { Tabs } from '@lism-css/ui/astro';

// console.log('Astro', Astro.props);
const slotKeys: string[] = Object.keys(Astro?.slots || {});

let tabs = '';
for (let index = 0; index < slotKeys.length; index++) {
	const slotName = slotKeys[index];
	if (slotName !== 'default') {
		tabs += await Astro.slots.render(slotName);
	}
}
---

<Lism className='c--preview' {...Astro.props}>
	<slot />
	{
		Astro.slots.has('tab') && (
			<Tabs.Root className='c--preview_code' variant='line' g='15'>
				<slot name='tab' />
			</Tabs.Root>
		)
	}
</Lism>
