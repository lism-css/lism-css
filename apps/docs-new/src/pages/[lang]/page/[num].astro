---
/**
 * ページネーション対応の記事一覧ページ（2ページ目以降・非root言語用）
 */
import BaseLayout from '@/layouts/BaseLayout.astro';
import PostList from '@parts/PostList.astro';
import Pagination from '@parts/Pagination.astro';
import { HTML } from 'lism-css/astro';
import { siteConfig } from '@/config/site';
import { getPaginationPathsForNonRoot } from '@/lib/pageHelpers';
import type { PostEntry } from '@/lib/content';
import type { LangCode } from '@/lib/i18n';

// 共通ヘルパーを使用
export const getStaticPaths = getPaginationPathsForNonRoot;

interface Props {
	lang: LangCode;
	posts: PostEntry[];
	currentPage: number;
	totalPages: number;
}

const { lang, posts, currentPage, totalPages } = Astro.props;
---

<BaseLayout isTop title={`${siteConfig.name} - Page ${currentPage}`} lang={lang}>
	<HTML.h lv="1">Recent Posts</HTML.h>

	{/* 記事カードグリッド */}
	<PostList posts={posts} lang={lang} />

	{/* ページネーション */}
	<Pagination currentPage={currentPage} totalPages={totalPages} lang={lang} />
</BaseLayout>
