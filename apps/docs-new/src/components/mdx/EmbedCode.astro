---
import { Frame } from 'lism-css/astro';
const { dirPath = 'apps/docs', srcPath = '', ...props } = Astro.props;

// : → %3A , / → %2F
// 開発環境ではdevブランチ、本番環境ではmainブランチを使用
const branch = import.meta.env.MODE === 'development' ? 'dev' : 'main';
const basePath = `https://github.com/lism-css/lism-css/blob/${branch}/` + dirPath + '/' + srcPath;
const queryMeta = 'style=github-dark&type=code&showLineNumbers=on&showFileMeta=on&showCopy=on';
---

<Frame ov-y="auto" max-h="25rem">
	<script src={`https://emgithub.com/embed-v2.js?target=${encodeURI(basePath)}&${queryMeta}`} loading="lazy"></script>
</Frame>
