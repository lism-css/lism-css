# aspect-ratioプロパティ - シンプルな記述で効果的に比率を揃える

レスポンシブ画像では従来padding-topハックで比率を維持していましたが、現在は`aspect-ratio`が主流です。意図した比率をシンプルに固定でき、カードや横並びレイアウトでも崩れにくい実装を実現できます。


## 従来の画像比率を固定する方法を確認する

以前は、画像やカードUIのアスペクト比（縦横比）を維持するために、`padding-top`を利用した「paddingハック」が広く使われていました。この方法では、要素の高さを`padding-top`（または`padding-bottom`）でパーセンテージ指定し、そのパーセンテージを 縦横比に応じて計算する必要があります。たとえば、16:9の比率を維持したい場合は「9/16×100=56.25%」となります。

```css
.pading-frame-16-9 {
  position: relative;
  width: 100%;
  padding-top: 56.25%; /* 16:9 = 9/16 * 100 */
}

.pading-frame-16-9 > img {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
}
```

```html
<div class='pading-frame-16-9'>
    <img src="https://book-cdn.pages.dev/img/img-1.jpg" alt="" width='1200' height='800'>
</div>
```


## aspect-ratioを用いて画像比率の固定を実装する

`aspect-ratio`プロパティを使用すると、要素の縦横比をCSSだけで保持することが可能です。従来の`padding-top`による「アスペクト比ハック」を使わず、より簡単かつ直感的に画面比率固定を実装できます。比率は「幅÷高さ」で指定できます。たとえば16:9であれば`16/9`と記述するだけで、横幅に応じて高さが自動的に計算されます。

```css
.frame-16-9 {
  aspect-ratio: 16 / 9;
}
.frame-16-9 > img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}
```

```html
<div class='frame-16-9'>
    <img src="https://book-cdn.pages.dev/img/img-1.jpg" alt="" width='1200' height='800'>
</div>
```


### img単体で比率指定を実装する

`aspect-ratio`を使用すれば、ラッパー要素を外してimg単体で比率指定を実装可能です。

ラッパー要素（wrapper element）とは、特定の要素を内包し、レイアウト調整や装飾、比率保持、位置制御などを行う外側コンテナ要素です。従来のアスペクト比調整では padding-topハックを使うため、画像を内包するラッパー要素が必要でしたが、`aspect-ratio`を使えば画像そのものに比率指定でき、ラッパー要素を省略できるケースが増えます。

以下のコードでは` <div class="frame-16-9"> `を省略し、img単体で比率を保持しています。

```css
img.img-16-9 {
  aspect-ratio: 16 / 9;
  width: 100%;
  height: auto;
  object-fit: cover;
}
```

```html
<img class='img-16-9' src="https://book-cdn.pages.dev/img/img-1.jpg" alt="" width='1200' height='800'>
```

従来のpadding-top、aspect-ratioを用いた場合、aspect-ratioでimg単体の場合、それぞれ見た目の違いはありません。

<iframe height="300" style="width: 100%;" scrolling="no" title="book 1-2 aspect-ratio" src="https://codepen.io/ddryo-the-encoder/embed/raeVbLN/5a90baf4e8a93785a2e3cafdd4b5c2b6?default-tab=html%2Cresult" frameborder="no" loading="lazy" allowtransparency="true">
  See the Pen <a href="https://codepen.io/ddryo-the-encoder/pen/raeVbLN/5a90baf4e8a93785a2e3cafdd4b5c2b6">book 1-2 aspect-ratio</a> by ddryo (<a href="https://codepen.io/ddryo-the-encoder">@ddryo-the-encoder</a>) on <a href="https://codepen.io">CodePen</a>.
</iframe>


## aspect-ratioでカードレイアウトを実装する

カードレイアウトでは、記事一覧や製品紹介などでサムネイル画像が複数並ぶケースが多く、画像の比率が整っているかどうかでデザインの統一感が大きく左右されます。

`aspect-ratio`を使用すると、元画像のサイズや縦横比がバラバラでも、指定した比率で統一して表示でき、意図しない高さズレや段差を防げます。さらに `object-fit: cover` を組み合わせれば、画像の中心を保ちながら自然にトリミングされ、領域いっぱいに美しく収まります。

これにより、一覧ページの可読性やビジュアルの安定感が向上し、ブログカード、ECサイトの商品カード、ギャラリーサムネイルなど、幅広いUIで高品質なレイアウトを実装可能になります。

以下は、`aspect-ratio`を用いて画像とテキストで構成されたカードレイアウトを実装した例です。

`aspect-ratio: 16/9`により画像領域の縦横比が一定に保たれ、`object-fit: cover`によってトリミングを保ちながらカード幅いっぱいに画像が表示されます。カード全体は `display: grid`で整えられ、角丸・影・余白などのデザインが適用されています。本文やリンク部分も読みやすいように余白やフォントサイズが調整され、ブログ記事やニュース一覧などに向いたレイアウトになっています。

```css
.card {
  display: grid;
  box-shadow: var(--shadow--md);
  border-radius: var(--radius--md);
  overflow: hidden;

  /*  実際はカラムの中で使用される想定で、サイズを小さめにしています。  */
  max-width: 600px;
}
.card__media {
  aspect-ratio: 16/9;
}
.card__media > img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}
.card__content {
  display: grid;
  gap: var(--space--4);
  padding: var(--space--6);
}
.card__title {
  font-size: var(--font-size--md);
}
.card__footer {
  display: flex;
  justify-content: end;
}
```

```html
<div class="card">
  <div class="card__media">
    <img src="https://book-cdn.pages.dev/img/img-1.jpg" width="960" height="640" />
  </div>
  <div class="card__content">
    <h3 class="card__title">記事のタイトルがここに入ります。</h3>
    <p class="card__text">
      記事の簡単な説明文がここに入ります。数行程度に要約された抜粋文がここに入ります。 記事の簡単な説明文がここに入ります。
    </p>
    <div class="card__footer">
      <a class="card__link" href="#">続きを読む →</a>
    </div>
  </div>
</div>
```

<iframe height="300" style="width: 100%;" scrolling="no" title="book 1-1-6 流体カード" src="https://codepen.io/ddryo-the-encoder/embed/GgZJPxG/8c359d8ef89d4261bb1873153e6f25e6?default-tab=html%2Cresult" frameborder="no" loading="lazy" allowtransparency="true">
  See the Pen <a href="https://codepen.io/ddryo-the-encoder/pen/GgZJPxG/8c359d8ef89d4261bb1873153e6f25e6">book 1-1-6 流体カード</a> by ddryo (<a href="https://codepen.io/ddryo-the-encoder">@ddryo-the-encoder</a>) on <a href="https://codepen.io">CodePen</a>.
</iframe>


## aspect-ratioで横並びカードレイアウトを実装する

`aspect-ratio`は、従来の`padding-top`を使った「アスペクト比ハック」より、より柔軟で実用的なレイアウト調整を可能にします。とくに高さがテキスト量によって変化するカードUIとの相性が良く、PCでは横並び、スマホでは縦長というレスポンシブ特有の形状変化にも自然に対応できます。

### aspect-ratioがpaddingハックより優れているケース

**画面が広い場合は指定した画像比率を維持する**

PC表示で記事カードを横並びにした際、サムネイルが縦に伸びたり潰れたりせず、常に16:9など統一の比率を保てます。

**画面が狭い時は比率を無視してコンテンツ側の高さに揃える**

スマホ表示で縦長レイアウトに変わった際、画像が必要以上に大きくならず、本文の高さに合わせて自然に縮み、スクロール負荷を減らせます。

> **スマホでは aspect-ratio が"柔軟"に働く理由**
> 
> 横並びカードをスマホで縦積みにすると、画像より本文が長くなるケースが多く、一定比率のままだと画像が必要以上に大きく表示されてしまいます。`aspect-ratio`は高さがコンテンツに押されると比率より実寸を優先するため、画像が自然に縮小され、無駄なスクロールを避けられます。これは paddingハックでは得られない自動調整です。

それでは`aspect-ratio`で横並びカードレイアウトを作成します。

```css
.card-horizontal {
  display: flex;
  border-radius: var(--radius--md);
  box-shadow: var(--shadow--lg);
  overflow: hidden;
}
.card-horizontal__content {
  flex-grow: 1;
  padding: var(--space--4);
  align-self: center;
}
.card-horizontal__content > h3 {
  font-size: var(--font-size--md);
}
.card-horizontal__content > p {
  font-size: var(--font-size--sm);
  margin-top: var(--space--2);
}
.card-horizontal__image {
  aspect-ratio: 1 / 1;
  width: 25%;
  flex-shrink: 0;
}
.card-horizontal__image img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}
```

```html
<div class="card-horizontal">
  <div class="card-horizontal__image">
    <img src="https://book-cdn.pages.dev/img/img-1.jpg" width="600" height="400">
  </div>
  <div class="card-horizontal__content">
    <h3>Card Title</h3>
    <p> ロレム・イプサムの座り雨、トマ好き学習だったエリット、しかし時と活力はそのような木々と楽しみ。ブラインド行うにはいくつかの重要な事柄が流れます。 </p>
  </div>
</div>
```

このように、`aspect-ratio`を使うと（画像とテキストが）横並びのカードレイアウトのような柔軟な動きをシンプルなコードで実装できます。

<iframe height="300" style="width: 100%;" scrolling="no" title="book 1-2 aspect-ratio" src="https://codepen.io/ddryo-the-encoder/embed/dPMoEew/a4015fe548952300a57c3963ddbd9dc3?default-tab=html%2Cresult" frameborder="no" loading="lazy" allowtransparency="true">
  See the Pen <a href="https://codepen.io/ddryo-the-encoder/pen/dPMoEew/a4015fe548952300a57c3963ddbd9dc3">book 1-2 aspect-ratio</a> by ddryo (<a href="https://codepen.io/ddryo-the-encoder">@ddryo-the-encoder</a>) on <a href="https://codepen.io">CodePen</a>.
</iframe>


### paddingハックとの比較

一方、paddingハックでは画像を包むラッパー要素や`position: absolute`が必要となります。`aspect-ratio`はCSSが高さを自動計算するため、より短いコードで安定したレイアウトが実現できます。

> **paddingハックではズレや比率の破綻に注意**
> 
> paddingハックでは、特に高さ可変のレイアウトでは余白のズレや比率の破綻が起きやすいという課題があります。

```css
/* 従来のpaddingハックを用いた横並びのカートレイアウト */
.card-horizontal__padding-ratio {
  width: 25%;
  flex-shrink: 0;
}
.card-horizontal__padding-ratio > figure {
  position: relative;
  padding-top: 100%; /*  1:1  */
  width: 100%;
}
.card-horizontal__padding-ratio > figure > img {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
}
```

```html
<!-- 変更部分のみ -->
<div class="card__image padding-ratio">
  <figure>
    <img src="https://book-cdn.pages.dev/img/img-1.jpg" width="600" height="400">
  </figure>
</div>
```


## まとめ

- **aspect-ratioプロパティで画像や枠の縦横比をシンプルなCSSだけで安定して固定できる**: 計算不要で比率を直感指定でき、paddingハックより短く安定した実装が可能になる。
- **カードや一覧レイアウトのサムネイル比率を揃え見た目の整ったグリッドデザインを実現できる**: 画像サイズが異なっても均一に揃い、object-fit併用で自然なトリミングが行える。
- **img単体や横並びカードにも対応しラッパー削減と崩れにくいレスポンシブ設計が可能になる**: ラッパー不要で高さ調整が安定し、画面幅に応じて自然に形が変わる柔軟なUIを作れる。
